<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Обновить информацию типа уязвимости</title>
    <link th:href="@{/css/1.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,300" type="text/css">
</head>
<body>
<form th:method="PATCH" th:action="@{/vulnerability-types/{id}(id=${type.getId()})}"
      th:object="${type}">
    <label for="name" >Измените название типа уязвимости: </label>
    <input type="text" th:field="*{name}" id="name"/>
    <div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name error</div>
    <br/>
    <label for="description" >Измените описание типа уязвимости: </label>
    <textarea type="text" th:field="*{description}" id="description"></textarea>
    <div style="color:red" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Description error</div>
    <br/>
    <label for="rusName" >Измените русское название типа уязвимости: </label>
    <input type="text" th:field="*{rusName}" id="rusName"/>
    <div style="color:red" th:if="${#fields.hasErrors('rusName')}" th:errors="*{rusName}">Russian name error</div>
    <br/>
    <label for="workaround" >Выберите решение из справочника: </label>
    <div class="col-lg-3" th:object="${type}">
        <select class="form-control" id="workaround" name="workaround">
            <option th:value="${type?.getWorkaround()?.getId()}"
                    th:text="${type?.getWorkaround()?.getDescription()}">Выберите решение</option>
            <option th:each="workaround : ${workarounds}"
                    th:value="${workaround.getId()}"
                    th:text="${workaround.getDescription()}"></option>
        </select>
    </div>
    <div style="color:red" th:if="${#fields.hasErrors('workaround')}" th:errors="*{workaround}">Workaround error</div>
    <input type="submit" value="Обновить!"/>
</form>

<a th:href="@{/vulnerability-types}" >Отменить редактирование</a>
</body>
</html>